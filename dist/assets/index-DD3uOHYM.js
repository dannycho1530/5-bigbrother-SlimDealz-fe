import{d as h,j as s}from"./mui-C_CkU0iZ.js";import{r as o}from"./react-mdsbzbFi.js";import{a as x}from"./vendor-DsPaXkF5.js";import{C as j,I as P,P as w,L as g,a as C,b as y}from"./index-B0ggh6J5.js";const E=h.div`
  padding: 20px;
  background-color: var(--background-color);
`,b=()=>{const[m,p]=o.useState([]),[r,c]=o.useState(!0),[n,u]=o.useState(1),[i,f]=o.useState(!0),l=o.useCallback(async()=>{try{const t=(await x.get("/api/v1/products",{params:{category:"닭가슴살",page:n,limit:10}})).data;Array.isArray(t)&&t.length>0?p(a=>[...a,...t]):f(!1),c(!1)}catch(e){c(!1),e.response?e.response.status===404?console.log("Products not found"):console.log("Server error"):console.log("Network error")}},[n]);return o.useEffect(()=>{l()},[l]),o.useEffect(()=>{const e=()=>{window.innerHeight+document.documentElement.scrollTop!==document.documentElement.offsetHeight||r||!i||u(t=>t+1)};return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)},[r,i]),s.jsxs(E,{children:[s.jsx(j,{children:s.jsx(P,{})}),s.jsx(w,{pageName:"추천 페이지"}),r&&n===1?s.jsx(g,{}):s.jsxs(s.Fragment,{children:[m.map((e,t)=>{var a,d;return s.jsx(C,{to:`/product/${encodeURIComponent(e.name)}`,children:s.jsx(y,{id:e.id,name:e.name,shipping:e.shippingFee,price:((d=(a=e.prices)==null?void 0:a[0])==null?void 0:d.setPrice)||"가격 없음"})},`${e.id}-${t}`)}),r&&s.jsx(g,{})," "]})]})};export{b as default};
